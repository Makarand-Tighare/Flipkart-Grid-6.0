import requests

# Define the URL and the headers you want to use
url = "https://1.rome.api.flipkart.com/api/5/self-serve/orders/?page=1&filterType=PREORDER_UNITS"
cookies = {
    'T': 'SD.8297445a-c3a7-454c-8db2-08c7f7f57a35.1723973442100',
    '_fbp': 'fb.1.1723973445369.584970553217977911',
    '_gac_UA-172010654-1': '1.1723974918.Cj0KCQjwt4a2BhD6ARIsALgH7Dq71gYehZuxgpal5uXIRb3oCj9cy9uZBEoT3zG9JGgsb1X6iVtJVCEaAt5-EALw_wcB',
    '_gcl_gs': '2.1.k1$i1723975268',
    '_gcl_aw': 'GCL.1723975304.Cj0KCQjwt4a2BhD6ARIsALgH7Dq71gYehZuxgpal5uXIRb3oCj9cy9uZBEoT3zG9JGgsb1X6iVtJVCEaAt5-EALw_wcB',
    'dpr': '1.25',
    'ULSN': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjb29raWUiLCJhdWQiOiJmbGlwa2FydCIsImlzcyI6ImF1dGguZmxpcGthcnQuY29tIiwiY2xhaW1zIjp7ImdlbiI6IjEiLCJ1bmlxdWVJZCI6IlVVSTI0MDgxOTE3MjAzNTY0NkJRSE40M1ciLCJma0RldiI6bnVsbH0sImV4cCI6MTczOTg0ODIzNSwiaWF0IjoxNzI0MDY4MjM1LCJqdGkiOiI4N2Y1Mzc3Ny1iNGRjLTQyN2ItODZmNi0xMTU4YmM0YTEyNGIifQ.G4wok2LFh1UPXO2mNYhd6sPHxBLEYIO5QyfrtXrLqGo',
    'ud': '4.yLMB0bKfvQdG3yvxWxMfS-rYCYvI9X15on9Jpz-4oS7aNvHr_lZoqd39zDhtjUA-dg_CHVgGAdkIRYEebo8qRF_78VktRbNcWW5n8wG0gbf7zM4PP3cCoaPoMVMxLE-ldMk0OW-XcBTKdUC0VA7BFbvDyIxSlE2pIzv-KEqKFhZDsUk7nDM8_wjmHgETMML5',
    '_gcl_au': '1.1.316233740.1723973445.1108949412.1724150015.1724150017',
    'AMCV_55CFEDA0570C3FA17F000101%40AdobeOrg': '-227196251%7CMCIDTS%7C19956%7CMCMID%7C65944996142707664201684694952521642495%7CMCAAMLH-1724578251%7C12%7CMCAAMB-1724830663%7CRKhpRz8krg2tLO6pguXWp5olkAcUniQYPHaMWWgdJ3xzPWQmdj0y%7CMCOPTOUT-1724233063s%7CNONE%7CMCAID%7CNONE',
    '_ga_2P94RMW04V': 'GS1.2.1724226490.4.1.1724226518.0.0.0',
    '_ga': 'GA1.2.1985921494.1723973383',
    'mp_9ea3bc9a23c575907407cf80efd56524_mixpanel': '%7B%22distinct_id%22%3A%20%22ACCF3AA62434BD14E32B02B46AF0E64D574%22%2C%22%24device_id%22%3A%20%2219164d53f8d5d7-0e4475eac7b911-26001e51-144000-19164d53f8e13ab%22%2C%22%24initial_referrer%22%3A%20%22%24direct%22%2C%22%24initial_referring_domain%22%3A%20%22%24direct%22%2C%22%24user_id%22%3A%20%22ACCF3AA62434BD14E32B02B46AF0E64D574%22%7D',
    '_ga_0SJLGHBL81': 'GS1.1.1724225837.5.1.1724227078.0.0.0',
    '_ga_TVF0VCMCT3': 'GS1.1.1724225837.5.1.1724227078.59.0.0',
    's_nr': '1724227081370-Repeat',
    'vw': '1536',
    'AMCV_17EB401053DAF4840A490D4C%40AdobeOrg': '-227196251%7CMCIDTS%7C19958%7CMCMID%7C21476465616184877218592220524603309424%7CMCAAMLH-1724602689%7C12%7CMCAAMB-1724916221%7CRKhpRz8krg2tLO6pguXWp5olkAcUniQYPHaMWWgdJ3xzPWQmdj0y%7CMCOPTOUT-1724318621s%7CNONE%7CMCAID%7CNONE',
    'at': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjhlM2ZhMGE3LTJmZDMtNGNiMi05MWRjLTZlNTMxOGU1YTkxZiJ9.eyJleHAiOjE3MjQzOTg3MTksImlhdCI6MTcyNDM5NjkxOSwiaXNzIjoia2V2bGFyIiwianRpIjoiYjVkNDY5N2YtZDIxMi00MWIzLWJhZjEtZDk0ZjAxN2NkOWVhIiwidHlwZSI6IkFUIiwiZElkIjoiU0QuODI5NzQ0NWEtYzNhNy00NTRjLThkYjItMDhjN2Y3ZjU3YTM1LjE3MjM5NzM0NDIxMDAiLCJiSWQiOiJISTNPQUgiLCJrZXZJZCI6IlZJOUZGQkE5NjJERTRGNEU2NzkzQzFCRDE3ODNEQTc0OTkiLCJ0SWQiOiJtYXBpIiwiZWFJZCI6InBIU1FJcWVOak9yYzNLMDRMZV83UGx1ZXVWbnY5YlZoNUVld2pIYUdLdzhSSnVRaFZlOVo2dz09IiwidnMiOiJMSSIsInoiOiJIWUQiLCJtIjp0cnVlLCJnZW4iOjR9.5hgeKVd5EvW8t9wJaTEH1nECqr9cE4JIn8v11dVdQzs',
    'rt': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjhlM2ZhMGE3LTJmZDMtNGNiMi05MWRjLTZlNTMxOGU1YTkxZiJ9.eyJleHAiOjE3NDAyOTQ1MTksImlhdCI6MTcyNDM5NjkxOSwiaXNzIjoia2V2bGFyIiwianRpIjoiNzhlODBjZmQtM2UwNS00MDMyLWIwZGEtZDk4MjNkNGQ1MTM3IiwidHlwZSI6IlJUIiwiZElkIjoiU0QuODI5NzQ0NWEtYzNhNy00NTRjLThkYjItMDhjN2Y3ZjU3YTM1LjE3MjM5NzM0NDIxMDAiLCJiSWQiOiJISTNPQUgiLCJrZXZJZCI6IlZJOUZGQkE5NjJERTRGNEU2NzkzQzFCRDE3ODNEQTc0OTkiLCJ0SWQiOiJtYXBpIiwibSI6eyJ0eXBlIjoibiJ9LCJ2IjoiRkNVREVQIn0.wf5-k0tdy5064ZE5X4LXv6U_OW-7MyPDHjJAdG5mV8Y',
    'Network-Type': '4g',
    'gpv_pn': 'HomePage',
    'gpv_pn_t': 'FLIPKART%3AHomePage',
    'K-ACTION': 'null',
    'S': 'd1t19PwY4Aj8/FWE/Pz9oPz8/RTfcfEhlx6tzyywJRiRaJVkoj0JjJO4sNZzmM19MBheYh7E9wuDEz2nEwe1qd6So1Q==',
    's_sq': 'flipkart-prd%3D%2526pid%253Dwww.flipkart.com%25253Aaccount%25253Aorders%2526pidt%253D1%2526oid%253Dhttps%25253A%25252F%25252Fwww.flipkart.com%25252F%2526ot%253DA',
    'vd': 'VI9FFBA962DE4F4E6793C1BD1783DA7499-1723997889278-19.1724397214.1724396919.162274352',
    'vh': '334',
    'SN': 'VI9FFBA962DE4F4E6793C1BD1783DA7499.TOK92737F6595C3415085C54EBF91F0CCD0.1724397214.LI',
}

headers = {
    'accept': '*/*',
    'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8',
    'content-type': 'application/json',
    # 'cookie': 'T=SD.8297445a-c3a7-454c-8db2-08c7f7f57a35.1723973442100; _fbp=fb.1.1723973445369.584970553217977911; _gac_UA-172010654-1=1.1723974918.Cj0KCQjwt4a2BhD6ARIsALgH7Dq71gYehZuxgpal5uXIRb3oCj9cy9uZBEoT3zG9JGgsb1X6iVtJVCEaAt5-EALw_wcB; _gcl_gs=2.1.k1$i1723975268; _gcl_aw=GCL.1723975304.Cj0KCQjwt4a2BhD6ARIsALgH7Dq71gYehZuxgpal5uXIRb3oCj9cy9uZBEoT3zG9JGgsb1X6iVtJVCEaAt5-EALw_wcB; dpr=1.25; ULSN=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjb29raWUiLCJhdWQiOiJmbGlwa2FydCIsImlzcyI6ImF1dGguZmxpcGthcnQuY29tIiwiY2xhaW1zIjp7ImdlbiI6IjEiLCJ1bmlxdWVJZCI6IlVVSTI0MDgxOTE3MjAzNTY0NkJRSE40M1ciLCJma0RldiI6bnVsbH0sImV4cCI6MTczOTg0ODIzNSwiaWF0IjoxNzI0MDY4MjM1LCJqdGkiOiI4N2Y1Mzc3Ny1iNGRjLTQyN2ItODZmNi0xMTU4YmM0YTEyNGIifQ.G4wok2LFh1UPXO2mNYhd6sPHxBLEYIO5QyfrtXrLqGo; ud=4.yLMB0bKfvQdG3yvxWxMfS-rYCYvI9X15on9Jpz-4oS7aNvHr_lZoqd39zDhtjUA-dg_CHVgGAdkIRYEebo8qRF_78VktRbNcWW5n8wG0gbf7zM4PP3cCoaPoMVMxLE-ldMk0OW-XcBTKdUC0VA7BFbvDyIxSlE2pIzv-KEqKFhZDsUk7nDM8_wjmHgETMML5; _gcl_au=1.1.316233740.1723973445.1108949412.1724150015.1724150017; AMCV_55CFEDA0570C3FA17F000101%40AdobeOrg=-227196251%7CMCIDTS%7C19956%7CMCMID%7C65944996142707664201684694952521642495%7CMCAAMLH-1724578251%7C12%7CMCAAMB-1724830663%7CRKhpRz8krg2tLO6pguXWp5olkAcUniQYPHaMWWgdJ3xzPWQmdj0y%7CMCOPTOUT-1724233063s%7CNONE%7CMCAID%7CNONE; _ga_2P94RMW04V=GS1.2.1724226490.4.1.1724226518.0.0.0; _ga=GA1.2.1985921494.1723973383; mp_9ea3bc9a23c575907407cf80efd56524_mixpanel=%7B%22distinct_id%22%3A%20%22ACCF3AA62434BD14E32B02B46AF0E64D574%22%2C%22%24device_id%22%3A%20%2219164d53f8d5d7-0e4475eac7b911-26001e51-144000-19164d53f8e13ab%22%2C%22%24initial_referrer%22%3A%20%22%24direct%22%2C%22%24initial_referring_domain%22%3A%20%22%24direct%22%2C%22%24user_id%22%3A%20%22ACCF3AA62434BD14E32B02B46AF0E64D574%22%7D; _ga_0SJLGHBL81=GS1.1.1724225837.5.1.1724227078.0.0.0; _ga_TVF0VCMCT3=GS1.1.1724225837.5.1.1724227078.59.0.0; s_nr=1724227081370-Repeat; vw=1536; AMCV_17EB401053DAF4840A490D4C%40AdobeOrg=-227196251%7CMCIDTS%7C19958%7CMCMID%7C21476465616184877218592220524603309424%7CMCAAMLH-1724602689%7C12%7CMCAAMB-1724916221%7CRKhpRz8krg2tLO6pguXWp5olkAcUniQYPHaMWWgdJ3xzPWQmdj0y%7CMCOPTOUT-1724318621s%7CNONE%7CMCAID%7CNONE; at=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjhlM2ZhMGE3LTJmZDMtNGNiMi05MWRjLTZlNTMxOGU1YTkxZiJ9.eyJleHAiOjE3MjQzOTg3MTksImlhdCI6MTcyNDM5NjkxOSwiaXNzIjoia2V2bGFyIiwianRpIjoiYjVkNDY5N2YtZDIxMi00MWIzLWJhZjEtZDk0ZjAxN2NkOWVhIiwidHlwZSI6IkFUIiwiZElkIjoiU0QuODI5NzQ0NWEtYzNhNy00NTRjLThkYjItMDhjN2Y3ZjU3YTM1LjE3MjM5NzM0NDIxMDAiLCJiSWQiOiJISTNPQUgiLCJrZXZJZCI6IlZJOUZGQkE5NjJERTRGNEU2NzkzQzFCRDE3ODNEQTc0OTkiLCJ0SWQiOiJtYXBpIiwiZWFJZCI6InBIU1FJcWVOak9yYzNLMDRMZV83UGx1ZXVWbnY5YlZoNUVld2pIYUdLdzhSSnVRaFZlOVo2dz09IiwidnMiOiJMSSIsInoiOiJIWUQiLCJtIjp0cnVlLCJnZW4iOjR9.5hgeKVd5EvW8t9wJaTEH1nECqr9cE4JIn8v11dVdQzs; rt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjhlM2ZhMGE3LTJmZDMtNGNiMi05MWRjLTZlNTMxOGU1YTkxZiJ9.eyJleHAiOjE3NDAyOTQ1MTksImlhdCI6MTcyNDM5NjkxOSwiaXNzIjoia2V2bGFyIiwianRpIjoiNzhlODBjZmQtM2UwNS00MDMyLWIwZGEtZDk4MjNkNGQ1MTM3IiwidHlwZSI6IlJUIiwiZElkIjoiU0QuODI5NzQ0NWEtYzNhNy00NTRjLThkYjItMDhjN2Y3ZjU3YTM1LjE3MjM5NzM0NDIxMDAiLCJiSWQiOiJISTNPQUgiLCJrZXZJZCI6IlZJOUZGQkE5NjJERTRGNEU2NzkzQzFCRDE3ODNEQTc0OTkiLCJ0SWQiOiJtYXBpIiwibSI6eyJ0eXBlIjoibiJ9LCJ2IjoiRkNVREVQIn0.wf5-k0tdy5064ZE5X4LXv6U_OW-7MyPDHjJAdG5mV8Y; Network-Type=4g; gpv_pn=HomePage; gpv_pn_t=FLIPKART%3AHomePage; K-ACTION=null; S=d1t19PwY4Aj8/FWE/Pz9oPz8/RTfcfEhlx6tzyywJRiRaJVkoj0JjJO4sNZzmM19MBheYh7E9wuDEz2nEwe1qd6So1Q==; s_sq=flipkart-prd%3D%2526pid%253Dwww.flipkart.com%25253Aaccount%25253Aorders%2526pidt%253D1%2526oid%253Dhttps%25253A%25252F%25252Fwww.flipkart.com%25252F%2526ot%253DA; vd=VI9FFBA962DE4F4E6793C1BD1783DA7499-1723997889278-19.1724397214.1724396919.162274352; vh=334; SN=VI9FFBA962DE4F4E6793C1BD1783DA7499.TOK92737F6595C3415085C54EBF91F0CCD0.1724397214.LI',
    'origin': 'https://www.flipkart.com',
    'priority': 'u=1, i',
    'referer': 'https://www.flipkart.com/',
    'sec-ch-ua': '"Not)A;Brand";v="99", "Google Chrome";v="127", "Chromium";v="127"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"Windows"',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-site',
    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36',
    'x-user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36 FKUA/website/42/website/Desktop',
}


# Send the request
response = requests.get(url, headers=headers, cookies=cookies)

# Extract and print all cookies from the response
print("Cookies received from the server:")
for cookie in response.cookies:
    print(f"{cookie.name}={cookie.value}")

# Save cookies to a file
with open('cookies.txt', 'w') as file:
    for cookie in response.cookies:
        file.write(f""" "{cookie.name}" : "{cookie.value}"\n""")

# Print response headers
print("Response headers:")
for header, value in response.headers.items():
    print(f"{header}: {value}")


print("Cookies have been saved to 'cookies.txt'")
